# ========================================
# LILY58 MAXIMUM POWER CONSUMPTION CONFIG
# Goal: 7 days battery life (not months!)
# ========================================

# --- DISABLE ALL POWER SAVING ---
# No sleep, no idle, no mercy
CONFIG_ZMK_SLEEP=n
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=0
CONFIG_ZMK_IDLE_TIMEOUT=0

# --- BLUETOOTH: MAXIMUM POWER ---
# Crank that radio to +8 dBm (max for nRF52840)
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# Keep Bluetooth active and chatty
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# --- RGB UNDERGLOW: ALWAYS ON, MAXIMUM BRIGHTNESS ---
CONFIG_ZMK_RGB_UNDERGLOW=n
CONFIG_ZMK_RGB_UNDERGLOW_ON_START=n

# Don't cut external power to LEDs
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n

# --- OLED DISPLAY: ALWAYS ON ---
CONFIG_ZMK_DISPLAY=y
# Note: OLED draws 20-40mA when actively displaying
# With default blanking disabled, this will drain fast!

# --- INCREASE SCAN RATE ---
# Poll keyboard matrix more frequently
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=1
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=1

# --- MOUSE SUPPORT (if you want) ---
CONFIG_ZMK_MOUSE=y

# --- MEMORY: USE MORE RAM ---
# Bigger stacks = more active RAM usage
CONFIG_MAIN_STACK_SIZE=4096        # Double it
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096  # Double it
CONFIG_ISR_STACK_SIZE=4096

# --- LOGGING (POWER HUNGRY) ---
# Enable USB logging if you want to burn even more
# CONFIG_ZMK_USB_LOGGING=y
# CONFIG_LOG=y
# CONFIG_LOG_MODE_IMMEDIATE=y

# --- KEEP EXTERNAL POWER ALWAYS ON ---
CONFIG_ZMK_EXT_POWER=y

# --- DISABLE BATTERY OPTIMIZATION ---
# Report battery more frequently
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=60  # Every minute instead of default
